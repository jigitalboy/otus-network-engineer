#	VRF (Virtual Routing and Forwarding)

Виртуализация - это методы разделения или объединения ресурсов (сервер, операционная система, приложение, устройство хранения или сеть) в логические блоки с целью их независимого и/или изолированного использования. Эта технология используется для эффективного использования ресурсов и чаще всего применяется для того, чтобы выделить конечным пользователям и системам определенное количество ресурсов (как часть ресурса, так и группу ресурсов в виде одного элемента).

Виртуальная сеть - общий термин, который подразумевает много разных технологий для обеспечения виртуализации компьютерных сетей. По сути, виртуализация сетей — это такой механизм, который предоставляет нам возможность работать с некоторым количеством логических сетей на одном и том же аппаратном обеспечении и одних и тех же физических соединениях. Поскольку сеть - вещь абстрактная, то и конкретные механизмы виртуализации могут работать на разных уровнях этой абстракции: физическом (мультиплексирование с разделением по времени), канальном (коммутация Ethernet и VLAN), сетевом (протокол IP). О последнем, сетевом, и пойдёт речь далее.

Для построения нескольких отдельных, изолированных IP-сетей в одной сети в общем случае нам потребовалось бы несколько физических маршрутизаторов, если сеть на физическом  и канальном уровне использует общую инфраструктуру,ведь у классического маршрутизатора есть только одна (глобальная) таблица маршрутизации. Отсюда вполне логично желание при построении таких сетей задействовать виртуализацию для логического разделения одного физического маршрутизатора на несколько виртуальных. Виртуализация сети позволяет одному физическому маршрутизатору иметь несколько таблиц маршрутизации. При этом, глобальная таблица маршрутизации содержит все IP-интерфейсы, которые не являются частью определенной виртуальной сети, а таблицы маршрутизации конкретных виртуальных сетей, содержат назначенные этим виртуальным сетям IP-интерфейсы. При этом один физический интерфейс может обеспечивать работу нескольких виртуальных сетей одновременно с помощью, например, технологии VLAN. Соответственно, технология VRF - это метод, с помощью которого можно создать несколько виртуальных сетей в одной сетевой сущности (физическом маршрутизаторе) и, таким образом, обеспечить изоляцию между виртуальными сетями.

При этом, нужно понимать, что сущность VRF существует только в пределах конкретного физического маршрутизатора и, если нам требуется передать информацию о принадлежности пакетов информации к конкретной сети, то нам потребуется помощь других технологий, таких как упоминаемый раннее VLAN (Virtual Local Area Network), MPLS (Multiprotocol Label Switching) или иных.

