# Сравнение протоколов EGP и IGP

По отношению к автономной системе (AS, домен маршрутизации) можно выделить 2 вида протоколов: 
1.	Протоколы внутренней маршрутизации (IGP, Interior gateway protocol), используемые для маршрутизации внутри автономной системы.  Они используются для передачи информации о маршрутах в пределах автономной системы. От таких протоколов требуется быстрая сходимость и возможность выбора маршрута в зависимости от характеристик сети. Современные протоколы также поддерживают маски переменной длины и суммаризацию для гибкого управления маршрутизацией. К протоколам внутренней маршрутизации относятся протоколы RIP, EIGRP, OSPF и IS-IS;
2.	Протоколы внешней маршрутизации (EGP, Exterior gateway protocol), используемые для маршрутизации между автономными системами. На данный момент протокол BGP практически единственный используемый в сети Интернет. В отличие от протоколов IGP здесь на первое место выходят требования по гибкости политик маршрутизации и способности поддерживать большое количество маршрутов.


Один из наиболее часто задаваемых вопросов: почему бы не использовать протокол IGP в качестве протокола EGP? Ответ на этот вопрос прост – каждый из упомянутых выше протоколов разрабатывался для решения конкретных задач по внутри- или междоменной маршрутизации. Каковы должны быть особенности и протоколов EGP для решения таких задач?
1.	Протокол EGP так или иначе должен работать с такой сущностью, как AS;
2.	Протокол EGP должен быть дистанционно-векторным, т.к. маршрутизатору нужно выбрать маршруты из предложенных, а не делать расчёты для каждой сети в Интернет (минимально возможная нагрузка на маршрутизатор);
3.	Должна быть гибкая система фильтрации маршрутов и система управления приоритетами маршрутов;
4.	Протокол должен быть легко масштабируемым, иметь защиту от образования петель (Интернет-то большой!);
5.	Должен приемлемо работать в нестабильной среде.

В общем, так или иначе, всем этим требованиям не отвечает ни один протокол IGP. Напротив, протокол BGP может использоваться как IGP внутри автономной системы для соединения больших её сегментов.


