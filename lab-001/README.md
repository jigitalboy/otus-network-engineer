# Лабораторная работа - Настройка маршрутизации между VLAN с использованием маршрутизатора в режиме "Router-on-a-Stick"


### Задание:

 1. Построить Сеть и настроить сетевые устройства
 2. Создание VLAN и назначение портов коммутатора
 3. Настройка магистрального канала 802.1Q между коммутаторами
 4. Настройка маршрутизации между VLAN на маршрутизаторе
 5. Проверка работы маршрутизации между VLAN

### Предустановки

Современные коммутаторы используют VLAN (виртуальные локальные сети) для сегментации сети, чем раньше занимались роутеры. VLAN решают задачи масштабируемости, безопасности и упрощают управление сетью. В итоге VLAN упрощают проектирование сети под нужды организации. Чтобы VLAN могли «общаться» друг с другом, нужно устройство, работающее на 3-м уровне OSI, обычно это роутер — он добавляет безопасность и улучшает управление трафиком.

Транки VLAN полезны для расширения VLAN на несколько устройств, позволяя трафику разных VLAN проходить по одной линии связи, сохраняя идентификаторы и сегментацию. Популярный способ маршрутизации между VLAN, «Router-On-A-Stick», использует транк между роутером и коммутатором, позволяя всем VLAN передавать данные через роутер.

В этом лабе я создам VLAN на обоих коммутаторах, назначу VLAN на порты, проверю их работу, настрою транки между коммутаторами и между S1 и R1, а также меж-VLAN маршрутизацию на R1, чтобы устройства в разных VLAN могли общаться, независимо от их подсети.

### Решение:

В первой части необходимо соеденить выбрать опеределенные устройства и соеденить их между собой.

### Топология Сети
![topology](lab_003_tpology.png)

### Схема IP адресов
![ip addressing scheme](lab_003_addressing_scheme.png)

### Таблица Подсетей

![vlans](lab_003_vlans.png)

### Настройте базовые параметры маршрутизатора. Откройте окно конфигурации.

Ниже приведенные комманды могут быть использованы для настроека как для маршрутизаторов, так и коммутаторов.

#### 1. Подключитесь к маршрутизатору ( коммутатору) через консоль и перейдите в привилегированный режим EXEC. 

        enable

#### 2. Перейдите в режим конфигурации. 

        config terminal 

#### 3. Присвойте маршрутизатору имя устройства. 

        hostname R1

#### 4. Отключите поиск DNS, чтобы предотвратить попытки маршрутизатора переводить неправильно введенные команды как имена хостов. 

        no ip domain-lookup

#### 5. Назначьте «class» в качестве зашифрованного пароля привилегированного EXEC. 

        enable secret class

#### 6. Назначьте «cisco» в качестве пароля для консоли и включите вход. 

    line con 0            
     password cisco        
     login
     exit

#### 7. Назначьте «cisco» в качестве пароля для VTY и включите вход. 

    line vty 0 15
     password cisco
     login
     exit

#### 8. Зашифруйте пароли в открытом виде. 

        service password-encryption

#### 9. Создайте баннер, предупреждающий всех, кто получает доступ к устройству, что несанкционированный доступ запрещен. 

![banner](lab_003_banner.png)

#### 10. Сохраните текущую конфигурацию в файл конфигурации запуска. 

        copy running-config startup-config

#### 11. Установите время на маршрутизаторе.

        clock set 14:30:00 3 Nov 2024 

## Создаем Подсети и отводим порты к ним.

### Создаем вначале Виртуальные локальные сети на обоих коммутаторах

#### 1. Создаем Виртуальные сети и даем им соответствующие имена в соответствии со схемой в вышеприведенной таблице
  
      vlan 3
       name Management
      vlan 4
       name Operations
      vlan 7
       name ParkingLot
      vlan 8
       name Native

#### 2. На этом этапе мы будем конфигурировать менеждмент интерфейс и шлюз по умолчению на каждом из коммутаторов S1 и S2 используя IP адреса .

##### Конфигурация менеджмент интерфейса на коммутаторе S1

     interface vlan 3
      ip address 192.168.3.11 255.255.255.0

##### Конфигураци шлюза по умолчению на коммутаторе S1

     ip default-gateway 192.168.3.1

##### Конфигурация менеджмент интерфейса на коммутаторе S2

     interface vlan 3
      ip address 192.168.3.12 255.255.255.0

##### Конфигураци шлюза по умолчению на коммутаторе S2

     ip default-gateway 192.168.3.1